
%\documentclass[10pt,onecolumn,twoside]{IEEEtran} %!PN
%  \documentclass[10pt,twocolumn,twoside]{IEEEtran} %!PN
% \documentclass[12pt,onecolumn,twoside,draft]{IEEEtran} %!PN
%\documentclass[conference]{IEEEtran} %!PN
%\documentclass[conference]{IEEEtran}

\documentclass{sig-alternate}
%\documentclass{article}
%\usepackage{spconf} %ICME conf style

\usepackage{multirow}
\usepackage{amsfonts}
\usepackage{epsfig}
\usepackage{amsmath}
\usepackage{amssymb}
\input{acronymes.tex} % acronymes + associated packages  are defined in the acronymes.tex file
\usepackage[english]{babel}
%\usepackage{cite}
\usepackage[numbers,sort]{natbib}
\renewcommand\citet[1]{\citeauthor{#1}~\cite{#1}} % redefine the \citet command to add a ~ space between authors and []
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{stfloats}
%\usepackage{pst-gantt}
% \usepackage{algorithm}
% \usepackage{algorithmic}
\usepackage[linesnumbered,ruled,vlined,boxed,commentsnumbered]{algorithm2e}
\usepackage[noend]{algorithmic}
\usepackage{float}
\algsetup{linenosize=\tiny}
%\usepackage{caption}
%\usepackage{subcaption}
\usepackage[caption=false]{subfig}
\usepackage{pgfplots}
\usepackage{booktabs}
\usepackage{listings}
\usepackage[hidelinks]{hyperref}
%\usetikzlibrary{plotmarks}
\usetikzlibrary{shapes,positioning,3d,calc}
\usetikzlibrary{decorations,decorations.pathmorphing}
\usetikzlibrary{external}
\newcommand{\externaldirectory}{latex.out/}
\tikzexternalize[prefix=\externaldirectory]
\tikzexternalize % activate!
\tikzexternaldisable
\usepackage{wrapfig}
\usepackage{enumitem}
\usepackage{url}
\usepackage{etoolbox}

\lstset{%
  backgroundcolor=\color{gray!25},
  basicstyle=\sffamily \scriptsize,
  breaklines=true
}

%SI Units
\usepackage{siunitx}
\sisetup{detect-all}

%math tools
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{mathrsfs}
\usepackage{amssymb}
%Some math declarations
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\parenthesis}{(}{)}
\DeclarePairedDelimiter{\set}{\{}{\}}
\DeclarePairedDelimiter{\norm}{|}{|}
\DeclarePairedDelimiter{\integerInterval}{\llbracket}{\rrbracket}
\DeclareMathOperator*{\minimize}{minimize}

%Some symbols definitions
\newcommand{\packetset}{\mathcal P}
\newcommand{\frameset}{\mathcal F}
\newcommand{\packetsubset}{\mathcal P'}
\newcommand{\framesubset}{\mathcal F'}


% fix the issue of white character in acronym package
\usepackage{etoolbox}
\makeatletter
\patchcmd\@acf{\hskip\z@}{}{}{}
\patchcmd\@acf{\hskip\z@}{}{}{}
\makeatother


\usepackage{pgfplotstable}
\pgfplotsset{compat=1.8}


\newbool{NotesActivated}
\booltrue{NotesActivated}  %comment this line to remove all user comments

%include some macro specific for this paper
\input{paperSpecificMacro.tex}

\newcommand {\otoprule }{\midrule [\heavyrulewidth]}

\title{Geometric Layout for Navigable 360-Degree Video Delivery}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

\floatstyle{ruled}
\newfloat{ilp}{ht}{aux}
\floatname{ilp}{Integer Linear Program}


\newbool{doubleBlinded}
\booltrue{doubleBlinded}  %comment this line to remove all user comments

\makeatletter
%\def\@name{ \ifdoubleBlinded \phantom{ \fi \emph{Xavier Corbillon$^{\star}$ \quad Florian Boyrivent$^{\star}$
%\quad Gr\'{e}goire Asselin\,De\,Williencourt$^{\star}$} \ifdoubleBlinded } \fi \\ \ifdoubleBlinded \phantom{ \emph{Gwendal
%Simon$^{\star}$ \quad G\'{e}raldine Texier$^{\star}$ \quad Jacob
%Chakareski$^{\dagger}$}\ifdoubleBlinded } \fi}
%
%\address{\ifdoubleBlinded \phantom{ \fi $^{\star}$ T\'{e}l\'{e}com Bretagne / IRISA, France \ifdoubleBlinded } \#$144$ \phantom{ \fi\quad
%$^{\dagger}$ University of Alabama, USA \ifdoubleBlinded } \fi}

\ifdoubleBlinded
\numberofauthors{1}
\else
\numberofauthors{3}
\fi

\author{ 
\alignauthor
\ifdoubleBlinded
        Paper ID 
\else
  Xavier Corbillon\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}% \\
\alignauthor
  Alisa Devlic\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}% \\
\alignauthor
  Gwendal Simon\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}%\\
\fi
}



\makeatother

%\pgfdeclareimage[width=3cm]{gamer}{plots/game-controller-icon-614x460.png}
%\pgfdeclareimage[width=1.6cm]{tv}{plots/1411044172_PixelKit_tv_icon.png}
%\pgfdeclareimage[width=0.8cm]{rack}{plots/1411044156_PixelKit_network_icon.png}

\input{tikzset.tex}




\begin{document}
%\ninept

\maketitle

\input{abstract.tex}

\input{intro.tex}

\input{background.tex}

\section{Quality-Differentiated Mapping Evaluation}

\begin{figure}[t]
\begin{tikzpicture}

\def\ecartx{1}
\def\ecartybig{0.5}
\def\ecartysmall{0.3}
\def\heimax{8*\ecartysmall+3*\ecartybig}
\def\sizeIcon{12}
\def\unitdodeca{0.11}

\pic [local bounding box = equiFirst] at (\ecartx,0.5*\heimax) 
		{equirectangular={\sizeIcon}{-1}{0}};
\pic [local bounding box = equiSecond, 
		below= \ecartysmall of equiFirst] {equirectangular={\sizeIcon}{0}{-1}};
%\pic [local bounding box = equiThird, 
%		below=\ecartysmall of equiSecond] {equirectangular={\sizeIcon}{0}{0}};

\pic [local bounding box = cubeFirst, below=\ecartybig of equiSecond] {cubemap=\sizeIcon};
\pic [local bounding box = cubeSecond, 
		below=\ecartysmall of cubeFirst] {cubemap=\sizeIcon};
%\pic [local bounding box = cubeThird, 
%			below=\ecartysmall of cubeSecond] {cubemap=\sizeIcon};

\pic [local bounding box = pyraFirst, below=\ecartybig of cubeSecond] {pyramid=\sizeIcon};
\pic [local bounding box = pyraSecond, 
		below=\ecartysmall of pyraFirst] {pyramid=\sizeIcon};
%\pic [local bounding box = pyraThird, 
%			below=\ecartysmall of pyraSecond] {pyramid=\sizeIcon};

\pic [local bounding box = dodecaFirst, below=\ecartybig of pyraSecond, 
		xshift=-3pt] {dodecahedron=\unitdodeca};
\pic [local bounding box = dodecaSecond, below=\ecartysmall of dodecaFirst, xshift=-6pt,
		yshift=2pt] {dodecahedron=\unitdodeca};
%\pic [local bounding box = dodecaThird, 
%			below=\ecartysmall of dodecaSecond] {dodecahedron=\unitdodeca};

% ==== sphere
\pic [local bounding box=spher, yshift=10pt,
		right=-\ecartx cm of pyraFirst] at (0,0) {spherical=10};
		
% == links
\draw[-latex] (spher) to ([xshift=-3pt, yshift=5pt]equiSecond.west);
\draw[-latex] (spher) to ([xshift=-3pt, yshift=5pt]cubeSecond.west);
\draw[-latex] (spher) to ([xshift=-3pt, yshift=5pt]pyraSecond.west);
\draw[-latex] (spher) to ([xshift=-3pt, yshift=5pt]dodecaSecond.west);

% ==== selected versions
\pic [local bounding box = chosenEqui, 
		right= \ecartx of equiFirst] {equirectangular={\sizeIcon}{0}{-1}};
\pic [local bounding box = chosenCube, right=\ecartx of cubeFirst] {cubemap=\sizeIcon};
\pic [local bounding box = chosenPyra, 
		right=\ecartx of pyraSecond] {pyramid=\sizeIcon};
\pic [local bounding box = chosenDodeca, right=\ecartx of dodecaFirst, 
		xshift=-5pt, yshift=3.5pt] {dodecahedron=\unitdodeca};
		
% == links
\draw[-latex] ([xshift=1.5pt]equiFirst.east) to ([xshift=-1pt]chosenEqui.west);
\draw[-latex] ([xshift=1.5pt]cubeFirst.east) to ([xshift=-1pt]chosenCube.west);
\draw[-latex] ([xshift=1.5pt]pyraSecond.east) to ([xshift=-1pt]chosenPyra.west);
\draw[-latex] ([xshift=0.5pt]dodecaFirst.east) to ([xshift=-1pt]chosenDodeca.west);

% == legend
\tikzset{
	legendNode/.style={
		font=\scriptsize,
		text width=1cm,
		align=center,
		anchor=south
	}
}
\node[legendNode] at (chosenEqui |- equiFirst.north) {selected version};
\node[legendNode] at (equiFirst.north) {offered versions};

% ==== fov

\tikzset{
	pics/equirec/.style n args={3}{
		code={
			\draw[fill=gray!30] (-0.0352778*#1, -0.019844*#1) rectangle (0.0352778*#1, 0.019844*#1);
			\draw[draw=none,fill=gray!70] (0.0088194*#2*#1-2*0.0088194*#1, 0.0066147*#3*#1 - 2*0.0066147*#1) rectangle (0.0088194*#2*#1 + 2*0.0088194*#1, 0.0066147*#3*#1 + 2*0.0066147*#1);
			\draw[draw,fill=none] (-0.0352778*#1, -0.019844*#1) rectangle (0.0352778*#1, 0.019844*#1);
		}		
	}
}

\pic [local bounding box=fovEqui, right=\ecartx of chosenEqui] {equirec={\sizeIcon}{-2}{-1}};
\pic [local bounding box=fovCube, right=\ecartx of chosenCube] {equirec={\sizeIcon}{1}{0}};
\pic [local bounding box=fovPyra, right=\ecartx of chosenPyra] {equirec={\sizeIcon}{0}{-1}};
\pic [local bounding box=fovDodeca] at (fovPyra |- chosenDodeca) {equirec={\sizeIcon}{0}{0}};

\node[legendNode] at (fovEqui |- equiFirst.north) {\ac{FoV} extraction};

% == links

\draw[-latex] ([xshift=1.5pt]chosenEqui.east) to ([xshift=-1pt]fovEqui.west);
\draw[-latex] ([xshift=1.5pt]chosenCube.east) to ([xshift=-1pt]fovCube.west);
\draw[-latex] ([xshift=1.5pt]chosenPyra.east) to ([xshift=-1pt]fovPyra.west);
\draw[-latex] ([xshift=0.5pt]chosenDodeca.east) to ([xshift=-1pt]fovDodeca.west);

% ==== reference video
\tikzset{
	refVideo/.pic={
		\draw[fill=gray!70] (-0.0352778*#1, -0.019844*#1) rectangle (0.0352778*#1, 0.019844*#1);
	}
}

\pic[local bounding box=fovRef,yshift=-15pt] 
		at (fovDodeca |- dodecaSecond.south) {refVideo=\sizeIcon};
\node[legendNode, text width=2cm] at (fovRef.north) {reference video};
		
\draw[-latex] (spher.south) |- (fovRef.west);

% ==== comparison MS-SSIM

\node[rounded corners,rectangle,thick,fill=gray!10,
		text width=1.5cm,align=center,anchor=west] (msssim)
		at ([xshift=\ecartx cm]fovEqui |- spher) {MS-SSIM comparison};
		
% == links

\draw[-latex] (fovEqui.east) -| (msssim.45);
\draw[-latex] (fovCube.east) -| (msssim.135);
\draw[-latex] (fovPyra.east) -| (msssim.225);
\draw[-latex] (fovDodeca.east) -| (msssim.270);
\draw[-latex] (fovRef.east) -| (msssim.315);

\end{tikzpicture}


\end{figure}


\subsection{Evaluation Platform}

\subsection{Results}

\section{Discussion and Conclusion}

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\bibliographystyle{IEEEtran}
%\bibliographystyle{IEEEbib}
\bibliographystyle{abbrvnat}  
%\bibliographystyle{abbrv}  
\bibliography{biblio}

\end{document}

