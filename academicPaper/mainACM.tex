
%\documentclass[10pt,onecolumn,twoside]{IEEEtran} %!PN
%  \documentclass[10pt,twocolumn,twoside]{IEEEtran} %!PN
% \documentclass[12pt,onecolumn,twoside,draft]{IEEEtran} %!PN
%\documentclass[conference]{IEEEtran} %!PN
%\documentclass[conference]{IEEEtran}

\documentclass{sig-alternate}
%\documentclass{article}
%\usepackage{spconf} %ICME conf style

\usepackage{multirow}
\usepackage{amsfonts}
\usepackage{epsfig}
\usepackage{amsmath}
\usepackage{amssymb}
\input{acronymes.tex} % acronymes + associated packages  are defined in the acronymes.tex file
\usepackage[english]{babel}
%\usepackage{cite}
\usepackage[numbers,sort]{natbib}
\renewcommand\citet[1]{\citeauthor{#1}~\cite{#1}} % redefine the \citet command to add a ~ space between authors and []
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{stfloats}
%\usepackage{pst-gantt}
% \usepackage{algorithm}
% \usepackage{algorithmic}
\usepackage[linesnumbered,ruled,vlined,boxed,commentsnumbered]{algorithm2e}
\usepackage[noend]{algorithmic}
\usepackage{float}
\algsetup{linenosize=\tiny}
%\usepackage{caption}
%\usepackage{subcaption}
\usepackage[caption=false]{subfig}
\usepackage{pgfplots}
\usepackage{booktabs}
\usepackage{listings}
\usepackage[hidelinks]{hyperref}
%\usetikzlibrary{plotmarks}
\usetikzlibrary{shapes,positioning,3d,calc}
\usetikzlibrary{decorations,decorations.pathmorphing}
\usetikzlibrary{external}
\newcommand{\externaldirectory}{latex.out/}
\tikzexternalize[prefix=\externaldirectory]
\tikzexternalize % activate!
\tikzexternaldisable
\usepackage{wrapfig}
\usepackage{enumitem}
\usepackage{url}
\usepackage{etoolbox}

\lstset{%
  backgroundcolor=\color{gray!25},
  basicstyle=\sffamily \scriptsize,
  breaklines=true
}

%SI Units
\usepackage{siunitx}
\sisetup{detect-all}

%math tools
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{mathrsfs}
\usepackage{amssymb}
%Some math declarations
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\parenthesis}{(}{)}
\DeclarePairedDelimiter{\set}{\{}{\}}
\DeclarePairedDelimiter{\norm}{|}{|}
\DeclarePairedDelimiter{\integerInterval}{\llbracket}{\rrbracket}
\DeclareMathOperator*{\minimize}{minimize}

%Some symbols definitions
\newcommand{\packetset}{\mathcal P}
\newcommand{\frameset}{\mathcal F}
\newcommand{\packetsubset}{\mathcal P'}
\newcommand{\framesubset}{\mathcal F'}


% fix the issue of white character in acronym package
\usepackage{etoolbox}
\makeatletter
\patchcmd\@acf{\hskip\z@}{}{}{}
\patchcmd\@acf{\hskip\z@}{}{}{}
\makeatother


\usepackage{pgfplotstable}
\pgfplotsset{compat=1.8}


\newbool{NotesActivated}
\booltrue{NotesActivated}  %comment this line to remove all user comments

%include some macro specific for this paper
\input{paperSpecificMacro.tex}

\newcommand {\otoprule }{\midrule [\heavyrulewidth]}

\title{Adaptive Delivery of Navigable 360-Degree Videos}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

\floatstyle{ruled}
\newfloat{ilp}{ht}{aux}
\floatname{ilp}{Integer Linear Program}


\newbool{doubleBlinded}
\booltrue{doubleBlinded}  %comment this line to remove all user comments

\makeatletter
%\def\@name{ \ifdoubleBlinded \phantom{ \fi \emph{Xavier Corbillon$^{\star}$ \quad Florian Boyrivent$^{\star}$
%\quad Gr\'{e}goire Asselin\,De\,Williencourt$^{\star}$} \ifdoubleBlinded } \fi \\ \ifdoubleBlinded \phantom{ \emph{Gwendal
%Simon$^{\star}$ \quad G\'{e}raldine Texier$^{\star}$ \quad Jacob
%Chakareski$^{\dagger}$}\ifdoubleBlinded } \fi}
%
%\address{\ifdoubleBlinded \phantom{ \fi $^{\star}$ T\'{e}l\'{e}com Bretagne / IRISA, France \ifdoubleBlinded } \#$144$ \phantom{ \fi\quad
%$^{\dagger}$ University of Alabama, USA \ifdoubleBlinded } \fi}

\ifdoubleBlinded
\numberofauthors{1}
\else
\numberofauthors{3}
\fi

\author{ 
\alignauthor
\ifdoubleBlinded
        Paper ID 
\else
  Xavier Corbillon\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}% \\
\alignauthor
  Alisa Devlic\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}% \\
\alignauthor
  Gwendal Simon\\
  \affaddr{T\'{e}l\'{e}com Bretagne, IRISA, France}%\\
\fi
}



\makeatother

%\pgfdeclareimage[width=3cm]{gamer}{plots/game-controller-icon-614x460.png}
%\pgfdeclareimage[width=1.6cm]{tv}{plots/1411044172_PixelKit_tv_icon.png}
%\pgfdeclareimage[width=0.8cm]{rack}{plots/1411044156_PixelKit_network_icon.png}


\begin{document}
%\ninept

\maketitle

\input{abstract.tex}

\input{intro.tex}

% =============
\section{Background}

In this Section, we provide the background for our study.
First, we depict the overall architecture of the delivery system.
Then, we recall the main 2D geometric layouts for spherical videos.

\subsection{Navigable 360-degree Video Delivery}

The principles of a navigable video delivery system are similar as in adaptive bit-rate
video systems such as \ac{DASH}. The server offers multiple versions of the same video 
and the client
selects the most appropriate version according to some criteria. These versions 
are cut into second-long segments such that the client can regularly switch from one 
version to another.

In the case of wide video with different spatial qualities, the main idea is to spatially cut 
the video into \emph{tiles}.
Then, two implementations are possible for the delivery system. Either the server 
offers each tile at different qualities. The client selects each tile version independently 
and it has to reconstruct
the full video from these tiles before the \ac{FoV} extraction. This solution allows a 
fine setting of qualities but 
most of the computation is done at the client side. The second option, 
which is the one we consider in this paper and is also the industrial implementation described 
by~\citet{facebook}, is that
the server prepares $x$ versions related to $x$ different \acp{QEC}. Each version 
is an arrangement of tile
qualities such that the tiles that are close to the \ac{QEC} are at high-quality 
and the other tiles
are at a lower quality. The main advantages include an easy management of the server 
(\textit{e.g.} small \emph{manifest} file), a simple selection process for the client (by
a distance computation), and no need of re-constructing the video before the \ac{FoV} extraction.

At the client side, the end-user moves its head to decide the \ac{FoV}. The head movements
are called \emph{yaw}, \emph{pitch}, and \emph{roll}. The center of the \ac{FoV} is a 
point on the sphere, the size of the \ac{FoV} depends on the device (typically
around 100$^\circ$ in state-of-the-art devices), and the orientation of the extracted video 
is related to the roll.

The complete analysis and evaluation of the navigable 360-degree video delivery system
is left for future work. Due to lack of space, we focus here on the geometric layout
of the video versions and the tile quality arrangement.


\subsection{Mapping of Spherical Videos}

The projection of a sphere into a plane (known as mapping) has been extensively studied
for centuries. In this paper, we consider the four projections that are the most natural
candidates for 360-degree video delivery. These are depicted in Figure~\ref{fig:projections}.

\begin{figure}[ht]
\centering
\begin{tikzpicture}
\tikzset{
	spherical/.pic={
		\draw (-0.0352778*#1,0) arc (180:360:#1 pt and 0.5*#1 pt);
	    \draw[densely dashed] (-0.0352778*#1,0) arc (180:0:#1 pt and 0.5*#1 pt);
   	    \draw (0,0.0352778*#1) arc (90:270:0.5*#1 pt and #1 pt);
   	    \draw[densely dashed] (0,0.0352778*#1) arc (90:-90:0.5*#1 pt and #1 pt);
     	\draw (0,0) circle (#1 pt);
     	\shade[ball color=blue!10!white,opacity=0.20] (0,0) circle (#1 pt);
    }
}

\tikzset{
	pics/equirectangular/.style n args={3}{
		code={
			%mid-quality
			\draw[fill=gray!30] (#2*0.00881945*#1-3*0.00881945*#1,#3*0.004961*#1-3*0.004961*#1) 
			rectangle 
			(#2*0.00881945*#1+4*0.00881945*#1,#3*0.004961*#1+4*0.004961*#1);

			%full-quality
			\draw[fill=gray!70] (#2*0.00881945*#1-0.00881945*#1,#3*0.004961*#1-0.004961*#1) 
			rectangle 
			(#2*0.00881945*#1+2*0.00881945*#1,#3*0.004961*#1+2*0.004961*#1);
			
			%grid
			\foreach \i in {-4,-3,-2,-1,0,1,2,3}{
				\foreach \j in {-4,-3,-2,-1,0,1,2,3}{
					\draw (\i*0.00881945*#1,\j*0.004961*#1) rectangle (\i*0.00881945*#1+0.00881945*#1,\j*0.004961*#1+0.004961*#1);
					}
				}
		}% code
	}% pic style
}%tikzset

\tikzset{
	cubemap/.pic={
		\draw[fill=gray!30] (-0.0352778*#1,-0.006615*#1) rectangle (-0.017639*#1,0.006615*#1);
		\draw[fill=gray!70] (-0.017639*#1,-0.006615*#1) rectangle (0,0.006615*#1);
		\draw[fill=gray!30] (0,-0.006615*#1) rectangle (0.017639*#1,0.006615*#1);
		\draw[fill=white] (0.017639*#1,-0.006615*#1) rectangle (0.0352778*#1,0.006615*#1);
		\draw[fill=gray!30] (-0.017639*#1,0.006615*#1) rectangle (0,0.019844*#1);
		\draw[fill=gray!30] (-0.017639*#1,-0.006615*#1) rectangle (0,-0.019844*#1);		
%		\draw[draw=black,fill=none] (-0.0352778*#1,-0.006615*#1) rectangle (0.0352778*#1,0.006615*#1);
	}
}




\def\sizeSphere{20}%pt
\def\ecartY{-2}%cm
\def\ecartX{6}

% da sphere
\pic [local bounding box=spher]  at (0,0) {spherical=15};

% recantagular
\pic [local bounding box=equi] at (-3,\ecartY) {equirectangular={\sizeSphere}{-1}{0}};

% cupe map
\pic [local bounding box=cubemap] at (-1,\ecartY) {cubemap=\sizeSphere};

% pyramid
\pic [local bounding box=pyra] at (1,\ecartY) {equirectangular={\sizeSphere}{0}{0}};

% rhombic
\pic [local bounding box=dodeca] at (3,\ecartY) {equirectangular={\sizeSphere}{0}{0}};

% links
\draw[-latex] (spher.180) -| (equi);
\draw[-latex] (spher.200) -| (cubemap);
\draw[-latex] (spher.340) -| (pyra);
\draw[-latex] (spher) -| (dodeca);





\end{tikzpicture}
\caption{Mappings}
\end{figure}

\subsubsection{Equirectangular}

\subsubsection{Cube Maps}

\subsubsection{Pyramid}

\subsubsection{Rhombic Dodecahedron}

\section{Quality-Differentiated Mapping Evaluation}

\subsection{Evaluation Platform}

\subsection{Results}

\section{Discussion and Conclusion}

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\bibliographystyle{IEEEtran}
%\bibliographystyle{IEEEbib}
\bibliographystyle{abbrvnat}  
%\bibliographystyle{abbrv}  
\bibliography{biblio}

\end{document}

